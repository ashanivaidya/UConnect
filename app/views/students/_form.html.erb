<%= form_for @student do |form| %>
  <div class="field">
    <%= form.label :first_name, 'First Name' %>
    <%= form.text_field :first_name %>
  </div>
  <div class="field">
    <%= form.label :last_name, 'Last Name' %>
    <%= form.text_field :last_name %>
  </div>

  <div class="field">
    <%= form.label :age, 'Age' %>
    <%= form.text_field :age %>
  </div>
  <div class="field">
    <%= form.label :phone, 'Phone Number' %>
    <%= form.text_field :phone %>
  </div>
  <div class="field">
    <%= form.label :address, 'Address' %>
    <%= form.text_field :address %>
  </div>
  <div class="field">
    <%= form.label :city, 'City' %>
    <%= form.text_field :city %>
  </div>
  <div class="field">
    <%= form.label :state, 'State' %>
    <%= form.text_field :state %>
  </div>
  <div class="field">
    <%= form.label :country, 'Country' %>
    <%= form.text_field :country %>
  </div>

  <div class="field">
    <%= form.fields_for :educations do |f| %>
      <%= render 'education_fields', f: f %>
    <% end %>
    <%= link_to_add_fields "Add Education", form, :educations %>
  </div>

  <div class="field">
    <%= form.fields_for :score do |f| %>
      <%= render 'score_fields', f: f %>
    <% end %>
  </div>

  <div class="actions">
    <%= form.submit %>
  </div>
<% end %>

<script>

    $('form').on('click', '.remove-fields', function(event) {
        console.log('clicked')
        $(this).prev('input[type=hidden]').val('1');
        $(this).closest('fieldset').hide();
        return event.preventDefault();
    });

    $('form').on('click', '.add_fields', function(event) {
        console.log('clicked!')
        var regexp, time;
        time = new Date().getTime();
        regexp = new RegExp($(this).data('id'), 'g');
        $(this).before($(this).data('fields').replace(regexp, time));
        return event.preventDefault();
    });
</script>